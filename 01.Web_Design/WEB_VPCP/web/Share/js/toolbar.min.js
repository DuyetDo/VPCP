var toolBar=new Object;toolBar.selection=null,toolBar.widget=null,addDay=function(e,t){var n=e.getTime();n+=24*t*60*60*1e3;var a=new Date;return a.setTime(n),a},addToolbar=function(e,t,n){var a=document.createElement("img");a.setAttribute("src",e),a.setAttribute("class","img-cal"),a.setAttribute("title",t),a.setAttribute("action",n),a.setAttribute("onclick","sendAction('"+n+"')");var o=document.getElementById("toolBar"),l=jq(o).find("img[action='"+n+"']");0==l.length&&jq(o).append(a)},addButtonToToolbar=function(e,t,n){if(null==document.getElementById(e)){var a=document.createElement("button");a.innerHTML=t,a.setAttribute("id",e),a.setAttribute("class","btnAction"),a.setAttribute("onclick","sendAction('"+n+"');");var o=document.getElementById("toolBar");o.appendChild(a)}},addPrintToolbar=function(){var e=document.createElement("img");e.setAttribute("src","Share/img/icon/print.gif"),e.setAttribute("title","In áº¥n"),e.setAttribute("class","img-cal"),e.setAttribute("onclick","printPage();");var t=document.getElementById("toolBar");t.appendChild(e)},printPage=function(){document.getElementById("topDiv").style.display="none",document.getElementById("toolBar").style.display="none",window.print(),document.getElementById("topDiv").style.display="",document.getElementById("toolBar").style.display=""},toolBarCheckSearch=function(e){13===e.keyCode&&toolBarSearch()},sendAction=function(e){var t=zk.Widget.$("$"+toolBar.widget);zAu.send(new zk.Event(t,e,null))},toolBarSearch=function(){if(null!==toolBar.widget){var e=document.getElementById("searchFullText").value,t={searchText:e},n=zk.Widget.$("$"+toolBar.widget);zAu.send(new zk.Event(n,"onSearchFullText",{"":t}))}},onOpenCreate=function(){if(null!==toolBar.widget){var e=zk.Widget.$("$"+toolBar.widget);zAu.send(new zk.Event(e,"onOpenCreate"))}},changeWorkingDay=function(e){try{null!==toolBar.selection&&null!==document.getElementById("workingTime"+toolBar.selection)&&document.getElementById("workingTime"+toolBar.selection).setAttribute("style",""),toolBar.selection=e;var t=document.getElementById("workingTime"+toolBar.selection);null!==t&&t.setAttribute("style","background-color:lightcoral")}catch(n){console.log(n)}var a=new Date,o=new Date,l=a.getFullYear(),r=a.getMonth(),i=a.getDay();switch(e){case 0:break;case 1:break;case 2:a=addDay(new Date,-1),o=addDay(new Date,-1);break;case 3:a=addDay(new Date,-1*i),o=addDay(new Date,6-i);break;case 4:a=addDay(new Date,-1*(i+7)),o=addDay(new Date,-1-i);break;case 5:a=new Date(l,r,1,0,0,0,0),r+=1,12===r&&(r=0,l+=1),o=new Date(l,r,1,0,0,0,0),o=addDay(o,-1);break;case 6:o=new Date(l,r,1,0,0,0,0),r-=1,0>r&&(r=11,l-=1),a=new Date(l,r,1,0,0,0,0),o=addDay(o,-1);break;case 7:o=new Date(l,11,31,0,0,0,0),a=new Date(l,0,1,0,0,0,0);break;case 8:o=new Date(l-1,11,31,0,0,0,0),a=new Date(l-1,0,1,0,0,0,0);break;default:a=addDay(new Date,-1*i),o=addDay(new Date,6-i)}var d=document.getElementById("searchFullText").value,c={searchText:d,fromDate:a.getTime(),toDate:o.getTime()};if(null!==toolBar.widget){var u=zk.Widget.$("$"+toolBar.widget);null!=u?zAu.send(new zk.Event(u,"onChangeTime",{"":c},{"":{toServer:!0}})):console.log("toolbar.js: can't find widget")}};